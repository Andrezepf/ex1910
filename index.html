<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>

        async function createPromise(url){
            //instanciando uma promise
        return new Promise(
            function(resolve,reject){
                var xhr = new XMLHttpRequest();
                xhr.open('GET',url, true);
                

                //tratamento do retorno
                xhr.onreadystatechange = function(){
                    if(xhr.readyState == 4){
                        if(xhr.status == 200){
                            resolve(xhr.responseText);
                        }else{
                            reject(xhr.status);
                        }                        
                    }                   
                }
                xhr.send();
            }
        );

        }

        const main = async () => {
            try{
                var value = await createPromise("data.json");
                console.log(value);
                var value2 = await createPromise("dataaaa.json");
                console.log(value2);
            } catch(erro){
                console.log(erro);
            }
        }

        main();
        //usando uma promise
       /* promise.then(
            function(sucesso){
                console.log(sucesso);
            }
        ).catch(
            function(erro){
                console.log(erro);
            }
        ); */


    </script>

</body>
</html>